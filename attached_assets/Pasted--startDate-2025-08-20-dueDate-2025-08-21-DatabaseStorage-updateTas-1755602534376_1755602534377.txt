
      
  startDate: '2025-08-20',

  dueDate: '2025-08-21'

}

ğŸ’¾ DatabaseStorage.updateTask - Input: {

  taskId: 99,

  taskData: {

    title: 'test',

    description: 'test',

    priority: 'medium',

    status: 'pending',

    assignedTo: 'test',

    startDate: '2025-08-20',

    dueDate: '2025-08-21'

  },

  dueDate: '2025-08-21',

  dueDateType: 'string',

  dueDateISO: '2025-08-21'

}

ğŸ§¹ Cleaned data for database update: {

  title: 'test',

  description: 'test',

  priority: 'medium',

  status: 'pending',

  assignedTo: 'test',

  startDate: '2025-08-20',

  dueDate: '2025-08-21',

  updatedAt: 2025-08-19T11:21:56.027Z

}

âŒ DatabaseStorage.updateTask - Database Error: {

  taskId: 99,

  error: 'value.toISOString is not a function',

  cleanData: {

    title: 'test',

    description: 'test',

    priority: 'medium',

    status: 'pending',

    assignedTo: 'test',

    startDate: '2025-08-20',

    dueDate: '2025-08-21',

    updatedAt: 2025-08-19T11:21:56.027Z

  }

}

file:///app/dist/index.js:6700

        taskId: id,

                ^

ReferenceError: id is not defined

    at file:///app/dist/index.js:6700:17

    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

Node.js v20.19.4

Applying DLC migration...

NOTICE:  column "stock_epuise" of relation "dlc_products" already exists, skipping

NOTICE:  column "stock_epuise_by" of relation "dlc_products" already exists, skipping

NOTICE:  column "stock_epuise_at" of relation "dlc_products" already exists, skipping

NOTICE:  relation "idx_dlc_products_stock_epuise" already exists, skipping

ALTER TABLE

CREATE INDEX

ğŸ”— Database initialization: {

  NODE_ENV: 'production',

  isProduction: true,

  hasDbUrl: true,

  dbHost: 'logiflow-db'

}

ğŸ³ PRODUCTION: Using standard PostgreSQL

âœ… PostgreSQL connection test successful

ğŸ”— Database initialization: {

  NODE_ENV: 'production',

  isProduction: true,

  hasDbUrl: true,

  dbHost: 'logiflow-db:5432'

}

âœ… Using DatabaseStorage (production PostgreSQL)

â° Automatic backup scheduled for 2:00 AM daily (native timer)

ğŸ” Using development storage and authentication

ğŸ³ PRODUCTION: Starting LogiFlow application

ğŸ³ Environment: { NODE_ENV: 'production', DATABASE_URL: 'Present', PORT: '3000' }

ğŸ’¾ [PRODUCTION] Backup service initialized for automatic daily backups

ğŸ”§ Registering all production routes...

ğŸ”„ Running automatic production migrations...

ğŸ”„ MIGRATION: Starting SAV production migrations...

ğŸ”„ MIGRATION: Database URL configured: postgresql://logiflow_admin:Lo...

âœ… MIGRATION: Connected to PostgreSQL database

ğŸ”„ MIGRATION: Checking if priority column exists...

ğŸ”„ MIGRATION: Priority column check result: 1

âœ… MIGRATION: Priority column already exists, skipping migration

ğŸ”Œ MIGRATION: Database connection closed

ğŸŒ¤ï¸ [PRODUCTION] Initializing weather system...

ğŸŒ¤ï¸ [AUTO-CONFIG] Initializing weather configuration...

âœ… [AUTO-CONFIG] Weather settings already configured and active

âœ… [PRODUCTION] Weather system initialized

ğŸŒ Environment detected: production

ğŸ”§ Using memory session store for development

Warning: connect.session() MemoryStore is not

designed for a production environment, as it will leak

memory, and will not scale past a single process.

âœ… All routes registered successfully for production

ğŸ³ Serving static files from: /app/dist/public

ğŸ³ PRODUCTION: LogiFlow serving on port 3000

HEAD /api/health 200 in 8ms


      